<!-- This is the base of the website. All other pages inherit from the page.-->
<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>{% block title %}{% endblock %}</title>
  <!-- CSS only -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">
</head>

<body>
  <!-- Nav bar.-->
  <nav class="navbar navbar-expand-lg" style="background-color: #ffae00;"">
    <div class=" container d-flex align-items-center">
    <a href="/" class="d-flex align-items-center mb-2 mb-lg-0">
      <img src="{{ url_for('static', filename='img/logo-nav.png') }}" alt="Logo" width="80" height="30" class="px-2">
    </a><a class="navbar-brand mb-0 h1 text-white" href="/"><strong>Simpler</strong></a>


    {%if 'loggedin' in session%}
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbars-simpler"
      aria-controls="navbars-NZOly" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbars-simpler">
      <ul class="navbar-nav me-auto mb-2 mb-lg-0">
        <li class="nav-item"><a href="/carsList"
            class="nav-link {% block carList_active %}{% endblock %} text-white">All cars</a>
        </li>
        {% if userPerm != 3 %}
        <li class="nav-item"><a href="/carsListEdit"
            class="nav-link {% block carListEdit_active %}{% endblock %} text-white">Manage
            cars</a></li>
        <li class="nav-item"><a href="/customers"
            class="nav-link {% block customers_active %}{% endblock %} text-white">Manage
            customers</a></li>
        {% if userPerm != 2 %}
        <li class="nav-item"><a href="/staff" class="nav-link {% block staff_active %}{% endblock %} text-white">Manage
            staff</a>
        </li>
        {%endif%}
        {%endif%}
      </ul>

    </div>
    <div class="dropdown text-end d-flex align-items-center">
      <p class="username-text text-white my-2 mx-2">{{session['username']}}</p>
      <a href="#" class="d-block link-body-emphasis text-decoration-none dropdown-toggle" data-bs-toggle="dropdown"
        aria-expanded="false">
        <img src="{{ url_for('static', filename='img/avatar.png') }}" alt="mdo" width="32" height="32"
          class="rounded-circle">
      </a>
      <ul class="dropdown-menu text-small" data-popper-placement="bottom-start"
        style="position: absolute; inset: 0px auto auto 0px; margin: 0px; transform: translate(0px, 34px);">
        <li><a class="dropdown-item" href="/profile">Profile</a></li>
        <li>
          <hr class="dropdown-divider">
        </li>
        <li><a class="dropdown-item" href="/logout">Log out</a></li>
      </ul>
    </div>
    {%endif%}

    </div>
  </nav>
  <!-- The content of pages.-->
  <section class="container pt-5">
    <header>
      {% block header %}{% endblock %}
    </header>
    <!-- {% for message in get_flashed_messages() %}
    <div class="flash">{{ message }}</div>
    {% endfor %} -->
    {% block content %}{% endblock %}
  </section>

  <!-- footer -->
  <br />
  <div class="container">
    <footer class="d-flex flex-wrap justify-content-between align-items-center py-3 my-4 border-top">
      <div class="col-md-6 d-flex align-items-center">
        <a href="https://github.com/JinkelaP/Simple-Car-Rental-System"
          class="mb-3 me-2 mb-md-0 text-decoration-none lh-1">
          Github
        </a>
        <span class="mb-3 mb-md-0 text-body-secondary">&copy; Haochen Zhu @Lincoln University</span>
      </div>
    </footer>
  </div>
  <!-- JavaScript Bundle with Popper -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-ENjdO4Dr2bkBIFxQpeoTz1HIcje39Wm4jDKdf19U8gI4ddQ3GYNS7NTKfAdVQSZe"
    crossorigin="anonymous"></script>
</body>

</html>